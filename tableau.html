<!DOCTYPE html>
<html lang="en">

<head>
    <meta ciharset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
    <link rel="stylesheet" href="style.css">
    <title>Tableau</title>
</head>

<body>

    <nav class="navbar navbar-dark bg-dark">
        <div style="position: relative; left: 40px;">
            <a class="navbar-brand" href="file:///C:/Users/m.dourneau/Desktop/Kleaccess/Pagetest.html"> Kleaccess </a>
        </div>
        <div class="dropdown">
            <div style="position: relative; right: 120px;">
                <button class="btn btn-dark dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-person-fill" fill="currentColor"
            xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
          </svg>
        </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                    <a class="dropdown-item" href="file:///C:/Users/m.dourneau/Desktop/Kleaccess/tableau.html">Tableau</a>
                    <a class="dropdown-item" href="file:///C:/Users/m.dourneau/Desktop/Kleaccess/infos.html">Mon compte</a>
                    <a class="dropdown-item" href="#">Déconnexion</a>
                    <a class="dropdown-item" href="#">Connexion</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="row justify-content-end">
            <div class="col-5">
                <table class="table">
                    </br>

                </table>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row justify-content-center">

            <script id="credentials-table-template" type="text/x-handlebars-template">

                <table class="table table-striped table-light">
                    <thead>
                        <tr>
                            <th scope="col"></th>
                            <th scope="col">Username</th>
                            <th scope="col">Domain </th>
                            <th> <button onclick="confirmAdd()" class="btn btn-outline-secondary" href="#" role="button">Ajouter un élément<svg width="1.5em"
                                height="1.5em" viewBox="0 0 16 16" class="bi bi-plus" fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                  d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
                              </svg></button></th>
                            <th scope="col"></th>
                        </tr>
                    </thead>

                    <tbody>
                        {{#each this}}
                        <tr>
                            <th scope="row">{{@index}}</th>
                            <td>{{identity}}</td>
                            <td>{{domain}}</td>

                            <td>
                                <a id="btpopup" class="btn btn-outline-muted" role="button" onclick="confirmModify ({{@index}}); return false">
                                    <img src="bootstrap-icons-1.2.1/pencil-square.svg" width="16" height="16" alt="Bootstrap">
                                </a>
                                <a class="btn btn-outline-muted" onclick="confirmDelete({{@index}}); return false">
                                    <img src="bootstrap-icons-1.2.1/trash.svg" width="16" height="16" alt="Bootstrap">
                                </a>
                            </td>
                        </tr>
                        {{/each}}
                    </tbody>
                </table>
            </script>
            <div id="credentials-table-container" class="col-7">
            </div>
        </div>
    </div>
    <script id="modal-modify-template" type="text/x-handlebars-template">
        <div id="overlay" class="overlay">
            <div id="card-test" class="card-test">
                <span id="btnClose" class="btnClose">&times;</span>
                <form id="updatengativevalidate" class="container ng-pristine ng-invalid ng-touched">
                    < <div class="row justify-content-md-center mt-6">
                        <div class="col-7">
                            <div class="card d-block">
                                <div class="card-body">
                                    <div class="form-group">
                                        <label for="identity">Identifiant</label>
                                        <div class="d-flex">
                                            <div class="input-group mb-3">
                                                <input id="identity" type="text" name="identity" required inputmode="identity" appinputverbatim="false" class="form-control ng-pristine ng-invalid ng-touched" ng-reflect-required ng-reflect-app-input-verbatim="false" ng-reflect-name="identity" ng-reflect-model
                                                    autocapitalize="none" autocorrect="none" spellcheck="false" value="{{credential.identity}}">
                                                <div class="input-group-append">
                                                    <button onclick="copyidentity()" class="btn btn-outline-secondary" href="#" type="button">
                                                    <img src="bootstrap-icons-1.2.1/stickies.svg" width="16" height="16" alt="Bootstrap">
                                                </button>
                                                </div>
                                            </div>
                                        </div>
                                        <br/>
                                        <div class="form-group">
                                            <label for="password">Mot de passe</label>
                                            <div class="d-flex">
                                                <div class="input-group mb-3">
                                                    <input id="secret" name="secret" required appinputverbatim class="text-monospace form-control ng-untouched ng-pristine ng-invalid" ng-reflect-required ng-reflect-app-input-verbatim ng-reflect-name="password" type="password" ng-reflect-model autocomplete="off"
                                                        autocapitalize="none" autocorrect="none" spellcheck="false" value="{{credential.secret}}" inputmode="verbatim">
                                                    <div class="input-group-append">
                                                        <button onclick="ShowHide()" class="btn btn-outline-secondary" href="#" type="button">
                                                            <img src="bootstrap-icons-1.2.1/eye-slash.svg" width="16" height="16" alt="Bootstrap">
                                                        </button>
                                                        <button onclick="copysecret()" class="btn btn-outline-secondary" href="#" type="button">
                                                        <img src="bootstrap-icons-1.2.1/stickies.svg" width="16" height="16" alt="Bootstrap">
                                                    </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <br/>
                                        <div class="form-group">
                                            <label for="domain">URL</label>
                                            <div class="d-flex">
                                                <div class="input-group mb-3">
                                                    <input id="domain" type="text" name="domain" required inputmode="domain" appinputverbatim="false" class="form-control ng-pristine ng-invalid ng-touched" ng-reflect-required ng-reklflect-app-input-verbatim="false" ng-reflect-name="Domain" ng-reflect-model
                                                        autocapitalize="none" autocorrect="none" spellcheck="false" value="{{credential.domain}}" placeholder="https://example.com" size="30" required>
                                                    <div class="input-group-append">
                                                        <button onclick="copydomain()" class="btn btn-outline-secondary" href="#" type="button"> 
                                                            <img src="bootstrap-icons-1.2.1/stickies.svg" width="16" height="16" alt="Bootstrap">
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <br>
                                            <button id="confirm-button" type="button" class="btn btn-success">Valider</button>
                                            <button id="cancel-button" type="button" class="btn btn-light">Annuler</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
            </div>
            </form>
        </div>
        </div>
        </div>
    </script>

    <script id="modal-add-template" type="text/x-handlebars-template">
        <div id="overlay" class="overlay">
            <div id="card-test" class="card-test">
                <span id="btnClose" class="btnClose">&times;</span>
                <form id=u pdatengativevalidate class="container ng-pristine ng-invalid ng-touched ">
                    <div class="row justify-content-md-center mt-6 ">
                        <div class="col-7 ">
                            <div class="card d-block ">
                                <div class="card-body ">
                                    <div class="form-group ">
                                        <label for="identity ">Identifiant</label>
                                        <div class="d-flex ">
                                            <div class="input-group mb-3 ">
                                                <input id="identity " type="text " name="identity " required inputmode="identity " appinputverbatim="false " class="form-control ng-pristine ng-invalid ng-touched" ng-reflect-required ng-reflect-app-input-verbatim="false " ng-reflect-name="identity "
                                                    ng-reflect-model autocapitalize="none " autocorrect="none " spellcheck="false " value="{{credential.identity}} ">
                                                <div class="input-group-append ">
                                                    <button class="btn btn-outline-secondary " href="# " role="button ">
                                                    <img src="bootstrap-icons-1.2.1/stickies.svg " width="16 " height="16 "
                                                        alt="Bootstrap ">
                                                </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group ">
                                            <label for="password ">Mot de passe</label>
                                            <div class="d-flex ">
                                                <div class="input-group mb-3 ">
                                                    <input id="secret " name="secret " required appinputverbatim class="text-monospace form-control ng-untouched ng-pristine ng-invalid" ng-reflect-required ng-reflect-app-input-verbatim ng-reflect-name="password " type="password " ng-reflect-model autocomplete="off "
                                                        autocapitalize="none " autocorrect="none " spellcheck="false " value="{{credential.secret}} " inputmode="verbatim ">
                                                    <div class="input-group-append ">
                                                        <button class="btn btn-outline-secondary " href="# " role="button ">
                                                        <img src="bootstrap-icons-1.2.1/eye.svg " width="16 " height="16 "
                                                            alt="Bootstrap ">
                                                    </button>
                                                        <button class="btn btn-outline-secondary " href="# " role="button ">
                                                        <img src="bootstrap-icons-1.2.1/stickies.svg " width="16 " height="16 "
                                                            alt="Bootstrap ">
                                                    </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <br />
                                            <div class="form-group ">
                                                <label for="domain ">URL</label>
                                                <div class="d-flex ">
                                                    <div class="input-group mb-3 ">
                                                        <input id="domain " type="text " name="domain " required inputmode="domain " appinputverbatim="false " class="form-control ng-pristine ng-invalid ng-touched" ng-reflect-required ng-reklflect-app-input-verbatim="false " ng-reflect-name="Domain " ng-reflect-model
                                                            autocapitalize="none " autocorrect="none " spellcheck="false " value="{{credential.domain}} " placeholder="https://example.com " size="30 " required>
                                                        <div class="input-group-append ">
                                                            <button class="btn btn-outline-secondary " href="# " role="button ">
                                                            <img src="bootstrap-icons-1.2.1/stickies.svg " width="16 "
                                                                height="16 " alt="Bootstrap ">
                                                        </button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br>
                                                <button id="confirm-button " type="button " class="btn btn-success ">Valider</button>
                                                <button id="cancel-button " type="button " class="btn btn-light ">Annuler</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                </form>
                </div>
            </div>
        </div>
    </script>

    <script id="modal-delete-template " type="text/x-handlebars-template ">
        <div id="overlay " class="overlay ">
            <div id="card-test " class="card-test ">
                <form ngativevalidate class="container ng-pristine ng-invalid ng-touched ">
                    <div class="row justify-content-md-center mt-6 ">
                        <div class="col-6 ">
                            <div class="card d-block ">
                                <div class="card-body ">
                                    <div class="text-center ">
                                        <h5> Supprimer l'élément </h5>
                                        <br />
                                        <h8> Vous voulez vraiment supprimer cet élément ? {{index}}</h8>
                                        <br />
                                        <h9> Cette action est irréversible !</h9>
                                        <br />
                                        <p></p>
                                        <div class="d-flex ">
                                            <button id="confirm-button " type="button " class="btn btn-success ">Oui</button>
                                            <button id="cancel-button " type="button " class="btn btn-light ">Non</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </script>

    <div id="modal-container "></div>

    <script src="storage.js "></script>
    <script src="tableau.js "></script>
</body>

</html>